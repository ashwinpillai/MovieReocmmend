<!DOCTYPE html>
<html>
<head>
	<title>NEW</title>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

	<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='style.css') }}">
<style>



/* Existing CSS for .btn-17 */
  .btn-17,
  .btn-17 *,
  .btn-17 :after,
  .btn-17 :before,
  .btn-17:after,
  .btn-17:before {
      border: 0 solid;
      box-sizing: border-box;
  }

  .btn-17 {
      -webkit-tap-highlight-color: transparent;
      -webkit-appearance: button;
      background-color: #000;
      background-image: none;
      color: #fff;
      cursor: pointer;
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
          Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif,
          Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
      font-size: 100%;
      font-weight: 900;
      line-height: 1.5;
      margin: 0;
      -webkit-mask-image: -webkit-radial-gradient(#000, #fff);
      padding: 0;
      text-transform: uppercase;
  }

  .btn-17:disabled {
      cursor: default;
  }

  .btn-17:-moz-focusring {
      outline: auto;
  }

  .btn-17 svg {
      display: block;
      vertical-align: middle;
  }

  .btn-17 [hidden] {
      display: none;
  }

  .btn-17 {
      border-radius: 99rem;
      border-width: 2px;
      padding: 0.8rem 3rem;
      z-index: 0;
  }

  .btn-17,
  .btn-17 .text-container {
      overflow: hidden;
      position: relative;
  }

  .btn-17 .text-container {
      display: block;
      mix-blend-mode: difference;
  }

  .btn-17 .text {
      display: block;
      position: relative;
  }

  .btn-17:hover .text {
      -webkit-animation: move-up-alternate 0.3s forwards;
      animation: move-up-alternate 0.3s forwards;
      color: red; /* Change text color to red on hover */
  }

  @-webkit-keyframes move-up-alternate {
      0% {
          transform: translateY(0);
      }

      50% {
          transform: translateY(80%);
      }

      51% {
          transform: translateY(-80%);
      }

      to {
          transform: translateY(0);
      }
  }

  @keyframes move-up-alternate {
      0% {
          transform: translateY(0);
      }

      50% {
          transform: translateY(80%);
      }

      51% {
          transform: translateY(-80%);
      }

      to {
          transform: translateY(0);
      }
  }

  .btn-17:after,
  .btn-17:before {
      --skew: 0.2;
      background: #fff;
      content: "";
      display: block;
      height: 102%;
      left: calc(-50% - 50% * var(--skew));
      pointer-events: none;
      position: absolute;
      top: -104%;
      transform: skew(calc(150deg * var(--skew))) translateY(var(--progress, 0));
      transition: transform 0.2s ease;
      width: 100%;
  }

  .btn-17:after {
      --progress: 0%;
      left: calc(50% + 50% * var(--skew));
      top: 102%;
      z-index: -1;
  }

  .btn-17:hover:before {
      --progress: 100%;
  }

  .btn-17:hover:after {
      --progress: -102%;
  }

  /* Add styles for top cast button and user review button */
  #toggleTopCast,
  #togglerreviews {
      background-color: #e50914;
      margin: 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #fff;
  }

  #toggleTopCast:hover,
  #togglerreviews:hover {
      background-color: #ff0000; /* Change button color on hover */
  }

  h3 {
    font-family: 'Netflix Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    color: #e50914;
    font-weight: bold;
    margin-top: 30px;
    text-shadow: #000000 0px 0px 13px;
 }
 
 h5 {
    font-family: 'Netflix Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    color: #e50914;
    font-weight: bold;
    margin-top: 30px;
    text-shadow: #000000 0px 0px 13px;
 }
 
 h6 {
    font-family: 'Netflix Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    color: #e50914;
    margin-top: 6px;
    text-shadow: #000000 0px 0px 13px;
 }
</style>
</head>

<body id="content">
	<div class="results">
	    <center>
	      <h2 id="name" class="text-uppercase">{{title}}</h2>
	    </center>
	</div>
	<br>

<div id="mycontent">
    <div id="mcontent">
      <div class="poster-lg">
        <img class="poster" style="border-radius: 40px;margin-left: 90px;" height="400" width="250" src={{poster}}>
      </div>
      <div class="poster-sm text-center">
        <img class="poster" style="border-radius: 40px;margin-bottom: 5%;" height="400" width="250" src={{poster}}>
      </div>
      <div id="details">
        <br/>
        <h6 id="title" style="color:white;">TITLE: &nbsp;{{title}}</h6>
        <h6 id="overview" style="color:white;max-width: 85%">OVERVIEW: <br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{overview}}</h6>
        <h6 id="vote_average" style="color:white;">RATING: &nbsp;{{vote_average}}/10 ({{vote_count}} votes)</h6>
        <h6 id="genres" style="color:white;">GENRE: &nbsp;{{genres}}</h6>
        <h6 id="date" style="color:white;">RELEASE DATE: &nbsp;{{release_date}}</h6>
        <h6 id="runtime" style="color:white;">RUNTIME: &nbsp;{{runtime}}</h6>
        <h6 id="status" style="color:white;">STATUS: &nbsp;{{status}}</h6>
        <h6 id="status" style="color:white;">STATUS: &nbsp;{{status}}</h6>
        {% for video in videos %}
    <a href="https://www.youtube.com/watch?v={{ video.key }}" target="_blank">{{ video.name }}</a><br>
{% endfor %}
      </div>
    </div>
</div>
<br/>
	
{% for name, details in cast_details.items() if not cast_details.hidden %}
  <div class="modal fade" id="{{details[0]}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel3" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header" style="background-color: #e50914;color: white;">
          <h5 class="modal-title" id="exampleModalLabel3">{{name}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" style="color: white">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <img class="profile-pic" src="{{details[1]}}" alt="{{name}} - profile" style="width: 250px;height:400px;border-radius: 10px;" />
          <div style="margin-left: 20px">
            <p><strong>Birthday:</strong> {{details[2]}} </p>
            <p><strong>Place of Birth:</strong> {{details[3]}} </p>
            <p> 
              <p><strong>Biography:</strong><p>
              {{details[4]}}
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  
  <button id="toggleTopCast" class="btn btn-17 btn-primary"> Top Cast</button>

  <button id="togglerreviews" class="btn btn-17 btn-primary"> USER REVIEWS</button>

  {% if casts|length > 1 %}

  


  <div class="movie-content" onwheel="scrollHorizontally(event)">
   
        {% for name, details in casts.items() if not casts.hidden %}
          <div class="castcard card"  title="Click to know more about {{name}}" data-toggle="modal" data-target="#{{details[0]}}">
            <div class="imghvr">
              <img class="card-img-top cast-img" id="{{details[0]}}" height="360" width="240" alt="{{name}} - profile" src="{{details[2]}}">
              <figcaption class="fig">
                <button class="card-btn btn btn-danger"> Know More </button>
              </figcaption>
            </div>
            <div class="card-body">
              <h5 class="card-title">{{name|title}}</h5>
              <h6 class="card-title">{{details[1]|title}}</h6>
            </div>
            
          </div>
      {% endfor %}

      
      
    </div>
{% endif %}

  <center>
    {% if reviews %}

    <div  class= "hi">
      	<!-- <h2 style="color:white">USER REVIEWS</h2> -->
     
      <div class="col-md-12" style="margin: 0 auto; margin-top:25px;">
         <table class="table table-bordered" bordercolor="white" style="color:white">
             <thead>
                 <tr>
                     <th class="text-center" scope="col" style="width: 75%">Comments</th>
                     <th class="text-center" scope="col">Sentiments</th>
                 </tr>
             </thead>
     
             <tbody>
           {% for review, status in reviews.items() if not reviews.hidden %}
           <tr style="background-color:#e5091485;">
                   <td>{{review}}</td>
                 <td><center>
                     {{status}} : 
                     {% if status =='Good' %}
                       &#128515;
                     {% else %}
                       &#128534;
                     {% endif %}
                   </center>
                 </td>
               </tr>
             {% endfor %}
         </tbody>
       </table>
     </div>
     {% else %}
     <div style="color:white;">
       <h1 style="color:white"> This movie is not released yet. Stay tuned! </h1>
     </div>
     {% endif %}

    </div>
   
  </center>

      {% if movie_cards|length > 1 %}


      <div class="movie" style="color: #E8E8E8;">
      <center><h3>Movies We Recommend For you</h3>
        </center>
    </div>

    <div>


    
    <div class="movie-contents"  onwheel="scrollHorizontallys(event)" >
      {% for poster, title in movie_cards.items() if not movie_cards.hidden %}
        <div class="card"  title="{{title}}" onclick="recommendcard(this)">
          <div class="imghvr">
            <img class="card-img-top" height="360" width="240" alt="{{title}} - poster" src={{poster}}>
            <figcaption class="fig">
              <button class="card-btn btn btn-danger"> Click Me </button>
            </figcaption>
           </div>
          <div class="card-body">
            <h5 class="card-title" >{{title|capitalize}}</h5>
          </div>
        </div>
    {% endfor %}
    </div>

    {% endif %}

    
    </div>
  </div>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="{{url_for('static', filename='recommend.js')}}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <script>
    // Function to toggle the visibility of top cast parts
    function toggleTopCast() {
        var topCastDiv = document.querySelector('.movie-content');
        if (topCastDiv.style.display === 'none') {
            topCastDiv.style.display = 'flex';
        } else {
            topCastDiv.style.display = 'none';
        }
    }


    function togglerreviews() {
      var topCastDiv = document.querySelector('.hi');
      if (topCastDiv.style.display === 'none') {
          topCastDiv.style.display = 'flex';
      } else {
          topCastDiv.style.display = 'none';
      }
  }
    

    // Add click event listener to the toggle button
    document.getElementById('toggleTopCast').addEventListener('click', toggleTopCast);
    document.getElementById('togglerreviews').addEventListener('click', togglerreviews);

// Function to scroll the cards left or right
function handleArrowKeyPress(event) {
    const movieContent = document.querySelector('.movie-contents');
    const scrollAmount = 400; // Adjust as needed

    // Scroll to the right on right arrow key press
    if (event.key === 'ArrowRight') {
      movieContent.scrollLeft += scrollAmount;
    }

    // Scroll to the left on left arrow key press
    if (event.key === 'ArrowLeft') {
      movieContent.scrollLeft -= scrollAmount;
    }
  }

  // Add event listener for keydown event to detect arrow key presses
  document.addEventListener('keydown', handleArrowKeyPress);



</script>
<script>
  function scrollHorizontally(event) {
      event.preventDefault();
      const delta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));
      const scrollSpeed = 40; // Adjust scroll speed as needed
      document.querySelector('.movie-content').scrollLeft -= (delta * scrollSpeed);
  }

  function scrollHorizontallys(event) {
      event.preventDefault();
      const delta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));
      const scrollSpeed = 40; // Adjust scroll speed as needed
      document.querySelector('.movie-contents').scrollLeft -= (delta * scrollSpeed);
  }
</script>
</body>
</html>
